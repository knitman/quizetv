<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<title>Η ΓΝΩΣΗ ΕΙΝΑΙ ΝΙΚΗ</title>

<style>
body {
  margin:0;
  background: radial-gradient(circle at top, #0b2c5d, #020b1c);
  color: gold;
  font-family: Arial, sans-serif;
  text-align: center;
}

#tv-logo {
  position: fixed;
  top: 20px;
  left: 20px;
  width: 180px;
  opacity: 0.95;
}

#question {
  margin-top: 140px;
  font-size: 36px;
}

.answer {
  border: 2px solid gold;
  margin: 12px auto;
  padding: 14px;
  width: 60%;
  font-size: 24px;
}

#status {
  margin-top: 20px;
  font-size: 22px;
}

#scores {
  margin-top: 20px;
  list-style: none;
  padding: 0;
}
</style>
</head>

<body>

<img id="tv-logo" src="logo.png" alt="Η ΓΝΩΣΗ ΕΙΝΑΙ ΝΙΚΗ">

<h1 id="question"></h1>
<div id="answers"></div>
<div id="status"></div>
<ul id="scores"></ul>

<script>
const ws = new WebSocket(
  (location.protocol==="https:"?"wss://":"ws://")+location.host
);

ws.onmessage = e => {
  const d = JSON.parse(e.data);

  if (d.type === "question") {
    question.textContent = d.question.text;
    answers.innerHTML = "";
    d.question.answers.forEach(a => {
      const div = document.createElement("div");
      div.className = "answer";
      div.textContent = a;
      answers.appendChild(div);
    });
    status.textContent = "Απαντούν…";
  }

  if (d.type === "winner") {
    status.textContent = "Πιο γρήγορος: " + d.name;
  }

  if (d.type === "players") {
    scores.innerHTML = "";
    d.players.forEach(p => {
      const li = document.createElement("li");
      li.textContent = `${p.name}: ${p.score}`;
      scores.appendChild(li);
    });
  }
};
</script>

</body>
</html>
