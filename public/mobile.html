<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Î— Î“ÎÎ©Î£Î— Î•Î™ÎÎ‘Î™ ÎÎ™ÎšÎ—</title>

<style>
html, body {
  width:100%; height:100%; margin:0;
  background: radial-gradient(circle at top, #0b2c5d, #020b1c);
  color: gold; font-family: Arial; text-align:center;
}
.screen {
  position:absolute; inset:0;
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
}
.hidden { display:none; }
#icon { width:140px; margin-bottom:20px; }
input {
  width:80%; padding:14px; font-size:18px;
  border-radius:30px; border:none; text-align:center;
}
button {
  margin-top:20px; padding:16px 44px;
  font-size:20px; border:none; border-radius:40px;
  background:linear-gradient(135deg,gold,#ffec8b);
}
</style>
</head>

<body>

<div id="joinScreen" class="screen">
  <img id="icon" src="icon.png">
  <input id="name" placeholder="ÎŒÎ½Î¿Î¼Î±">
  <button onclick="join()">ÎœÎ Î•Î£</button>
</div>

<div id="readyScreen" class="screen hidden">
  <img id="icon" src="icon.png">
  <button onclick="ready()">Î•Î¤ÎŸÎ™ÎœÎŸÎ£</button>
</div>

<div id="gameScreen" class="screen hidden">
  <button onclick="send(0)">ğŸ…° Î‘</button>
  <button onclick="send(1)">ğŸ…± Î’</button>
  <button onclick="send(2)">ğŸ…² Î“</button>
  <button onclick="send(3)">ğŸ…³ Î”</button>
  <div id="status"></div>
</div>

<script>
const ws = new WebSocket(
  (location.protocol==="https:"?"wss://":"ws://")+location.host
);
let answered=false;

function join(){
  const name=document.getElementById("name").value.trim();
  if(!name) return alert("Î’Î¬Î»Îµ ÏŒÎ½Î¿Î¼Î±");
  ws.send(JSON.stringify({type:"join",name}));
  joinScreen.classList.add("hidden");
  readyScreen.classList.remove("hidden");
}

function ready(){
  ws.send(JSON.stringify({type:"ready"}));
  readyScreen.classList.add("hidden");
  gameScreen.classList.remove("hidden");
  status.textContent="Î ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ...";
}

function send(a){
  if(answered) return;
  answered=true;
  ws.send(JSON.stringify({type:"answer",answer:a}));
  status.textContent="Î£Ï„Î¬Î»Î¸Î·ÎºÎµ âœ“";
}

ws.onmessage=e=>{
  const d=JSON.parse(e.data);
  if(d.type==="countdown") status.textContent="ÎÎµÎºÎ¹Î½Î¬ ÏƒÎµ "+d.seconds;
  if(d.type==="question"){ answered=false; status.textContent="Î‘Î Î‘ÎÎ¤Î‘!"; }
};
</script>

</body>
</html>
