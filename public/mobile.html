<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Î— Î“ÎÎ©Î£Î— Î•Î™ÎÎ‘Î™ ÎÎ™ÎšÎ—</title>

<style>
/* ===== BASE ===== */
body {
  margin: 0;
  background: radial-gradient(circle at top, #0b2c5d, #020b1c);
  color: gold;
  font-family: Arial, sans-serif;
  text-align: center;
  overflow: hidden;
}

/* ===== SCREENS ===== */
.screen {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition:
    transform 0.8s cubic-bezier(.22,1.2,.36,1),
    opacity 0.6s ease;
}

.hidden {
  opacity: 0;
  pointer-events: none;
  transform: translateY(80px) scale(0.85);
}

/* ===== TITLE ===== */
h1 {
  font-size: 32px;
  margin-bottom: 20px;
  letter-spacing: 1px;
  text-shadow: 0 0 25px gold;
}

/* ===== INPUT ===== */
input {
  width: 80%;
  padding: 14px;
  font-size: 18px;
  border-radius: 30px;
  border: none;
  outline: none;
  text-align: center;
}

/* ===== BUTTONS ===== */
button {
  margin-top: 20px;
  padding: 16px 44px;
  font-size: 20px;
  border: none;
  border-radius: 40px;
  cursor: pointer;
  background: linear-gradient(135deg, gold, #ffec8b);
  color: #081c3a;
  box-shadow: 0 10px 30px rgba(255,215,0,0.45);
  transition:
    transform 0.15s ease,
    box-shadow 0.15s ease;
}

button:active {
  transform: scale(0.95);
  box-shadow: 0 6px 20px rgba(255,215,0,0.35);
}

/* ===== ANSWERS ===== */
.answers {
  width: 90%;
}

.answers button {
  width: 100%;
  margin: 10px 0;
  font-size: 24px;
}

/* ===== STATUS ===== */
#status {
  margin-top: 22px;
  font-size: 18px;
  opacity: 0.85;
}
</style>
</head>

<body>

<!-- JOIN SCREEN -->
<div id="joinScreen" class="screen">
  <h1>Î— Î“ÎÎ©Î£Î— Î•Î™ÎÎ‘Î™ ÎÎ™ÎšÎ—</h1>
  <p>Î“ÏÎ¬ÏˆÎµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î¬ ÏƒÎ¿Ï…</p>
  <input id="name" placeholder="ÎŒÎ½Î¿Î¼Î± Ï€Î±Î¯ÎºÏ„Î·">
  <button onclick="join()">ÎœÎ Î•Î£ Î£Î¤ÎŸ Î Î‘Î™Î§ÎÎ™Î”Î™</button>
</div>

<!-- GAME SCREEN -->
<div id="gameScreen" class="screen hidden">
  <h1>Î”Î™Î‘Î›Î•ÎÎ• Î‘Î Î‘ÎÎ¤Î—Î£Î—</h1>

  <div class="answers">
    <button onclick="send(0)">ğŸ…° Î‘</button>
    <button onclick="send(1)">ğŸ…± Î’</button>
    <button onclick="send(2)">ğŸ…² Î“</button>
    <button onclick="send(3)">ğŸ…³ Î”</button>
  </div>

  <div id="status">Î ÎµÏÎ¯Î¼ÎµÎ½Îµ Ï„Î·Î½ ÎµÏÏÏ„Î·ÏƒÎ·â€¦</div>
</div>

<script>
const ws = new WebSocket(
  (location.protocol === "https:" ? "wss://" : "ws://") + location.host
);

let answered = false;

/* UI transition */
function showGame() {
  document.getElementById("joinScreen").classList.add("hidden");
  document.getElementById("gameScreen").classList.remove("hidden");
}

/* JOIN */
function join() {
  const name = document.getElementById("name").value.trim();
  if (!name) {
    alert("Î’Î¬Î»Îµ ÏŒÎ½Î¿Î¼Î±");
    return;
  }

  ws.send(JSON.stringify({ type: "join", name }));
  showGame();
}

/* SEND ANSWER */
function send(a) {
  if (answered) return;
  answered = true;

  ws.send(JSON.stringify({ type: "answer", answer: a }));
  document.getElementById("status").textContent =
    "Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ· ÏƒÏ„Î¬Î»Î¸Î·ÎºÎµ âœ“";
}

/* SOCKET EVENTS */
ws.onmessage = e => {
  const data = JSON.parse(e.data);

  if (data.type === "question") {
    answered = false;
    document.getElementById("status").textContent =
      "Î‘Î Î‘ÎÎ¤Î—Î£Î• Î¤Î©Î¡Î‘!";
  }

  if (data.type === "winner") {
    document.getElementById("status").textContent =
      "ÎŸ Ï€Î¹Î¿ Î³ÏÎ®Î³Î¿ÏÎ¿Ï‚ ÎºÎµÏÎ´Î¯Î¶ÎµÎ¹ Ï„Î¿Î½ Î³ÏÏÎ¿!";
  }

  if (data.type === "end") {
    document.getElementById("status").textContent =
      "Î¤Î•Î›ÎŸÎ£ Î Î‘Î™Î§ÎÎ™Î”Î™ÎŸÎ¥";
  }
};
</script>

</body>
</html>
