<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Î— Î“ÎÎ©Î£Î— Î•Î™ÎÎ‘Î™ ÎÎ™ÎšÎ—</title>

<style>
html, body {
  width:100%;
  height:100%;
  margin:0;
  background: radial-gradient(circle at top, #0b2c5d, #020b1c);
  color: gold;
  font-family: Arial, sans-serif;
  text-align: center;
}

.screen {
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

.hidden { display:none; }

#icon {
  width:140px;
  margin-bottom:24px;
  filter: drop-shadow(0 0 20px rgba(255,215,0,0.35));
}

input {
  width:80%;
  padding:14px;
  font-size:18px;
  border-radius:30px;
  border:none;
  text-align:center;
}

button {
  margin-top:20px;
  padding:16px 44px;
  font-size:20px;
  border:none;
  border-radius:40px;
  cursor:pointer;
  background: linear-gradient(135deg, gold, #ffec8b);
  color:#081c3a;
}
</style>
</head>

<body>

<!-- JOIN -->
<div id="joinScreen" class="screen">
  <img id="icon" src="icon.png">
  <p>Î“ÏÎ¬ÏˆÎµ Ï„Î¿ ÏŒÎ½Î¿Î¼Î¬ ÏƒÎ¿Ï…</p>
  <input id="name" placeholder="ÎŒÎ½Î¿Î¼Î± Ï€Î±Î¯ÎºÏ„Î·">
  <button onclick="join()">ÎœÎ Î•Î£</button>
</div>

<!-- READY -->
<div id="readyScreen" class="screen hidden">
  <img id="icon" src="icon.png">
  <p>Î Î¬Ï„Î± ÏŒÏ„Î±Î½ ÎµÎ¯ÏƒÎ±Î¹ Î­Ï„Î¿Î¹Î¼Î¿Ï‚</p>
  <button onclick="ready()">Î•Î¤ÎŸÎ™ÎœÎŸÎ£</button>
</div>

<!-- GAME -->
<div id="gameScreen" class="screen hidden">
  <img id="icon" src="icon.png">
  <button onclick="send(0)">ğŸ…° Î‘</button>
  <button onclick="send(1)">ğŸ…± Î’</button>
  <button onclick="send(2)">ğŸ…² Î“</button>
  <button onclick="send(3)">ğŸ…³ Î”</button>
  <div id="status"></div>
</div>

<script>
const ws = new WebSocket(
  (location.protocol==="https:"?"wss://":"ws://")+location.host
);

let answered=false;

function join(){
  const name = document.getElementById("name").value.trim();
  if(!name) return alert("Î’Î¬Î»Îµ ÏŒÎ½Î¿Î¼Î±");

  ws.send(JSON.stringify({ type:"join", name }));

  joinScreen.classList.add("hidden");
  readyScreen.classList.remove("hidden");
}

function ready(){
  ws.send(JSON.stringify({ type:"ready" }));
  readyScreen.classList.add("hidden");
  gameScreen.classList.remove("hidden");
  status.textContent="Î ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ Î½Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹ Ï„Î¿ Ï€Î±Î¹Ï‡Î½Î¯Î´Î¹â€¦";
}

function send(a){
  if(answered) return;
  answered=true;
  ws.send(JSON.stringify({ type:"answer", answer:a }));
  status.textContent="Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ· ÏƒÏ„Î¬Î»Î¸Î·ÎºÎµ âœ“";
}

ws.onmessage=e=>{
  const d=JSON.parse(e.data);

  if(d.type==="countdown"){
    status.textContent="ÎÎµÎºÎ¹Î½Î¬ ÏƒÎµ "+d.seconds;
  }

  if(d.type==="question"){
    answered=false;
    status.textContent="Î‘Î Î‘ÎÎ¤Î—Î£Î• Î¤Î©Î¡Î‘!";
  }
};
</script>

</body>
</html>
