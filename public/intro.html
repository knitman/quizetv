<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Η ΓΝΩΣΗ ΕΙΝΑΙ ΝΙΚΗ</title>

<style>
html, body {
  width:100%;
  height:100%;
  margin:0;
  background: radial-gradient(circle at top, #0b2c5d, #020b1c);
  color: gold;
  font-family: Arial, sans-serif;
  text-align: center;
}

h1 {
  display:none; /* δεν το χρειαζόμαστε, έχουμε logo */
}

#logo {
  width: 320px;
  margin-top: 30px;
  animation: logoIn 1.2s cubic-bezier(.22,1.28,.36,1);
}

@keyframes logoIn {
  from { opacity:0; transform: translateY(40px) scale(0.8); }
  to   { opacity:1; transform: translateY(0) scale(1); }
}

#qr-wrapper {
  width:260px;
  height:260px;
  margin:40px auto 20px;
  border-radius:50%;
  background: rgba(255,215,0,0.08);
  display:flex;
  align-items:center;
  justify-content:center;
}

#qr {
  width:200px;
  height:200px;
  background:#fff;
  border-radius:20px;
}

#players {
  margin-top:10px;
  font-size:18px;
  opacity:0.85;
}

#start {
  margin-top:30px;
  font-size:22px;
  padding:16px 46px;
  border:none;
  border-radius:40px;
  cursor:pointer;
  background: linear-gradient(135deg, gold, #ffec8b);
  color:#081c3a;
  box-shadow:0 10px 30px rgba(255,215,0,0.4);
}
</style>
</head>

<body>

<img id="logo" src="logo.png" alt="Η ΓΝΩΣΗ ΕΙΝΑΙ ΝΙΚΗ">

<div id="qr-wrapper">
  <img id="qr" alt="QR Code">
</div>

<div id="players"></div>

<button id="start">START GAME</button>

<script>
const ws = new WebSocket(
  (location.protocol==="https:"?"wss://":"ws://")+location.host
);

ws.onmessage = e => {
  const d = JSON.parse(e.data);

  if (d.type === "qr") {
    document.getElementById("qr").src = d.qr;
  }

  if (d.type === "players") {
    document.getElementById("players").textContent =
      "Παίκτες: " + d.players.map(p => p.name).join(" • ");
  }
};

document.getElementById("start").onclick = () => {
  ws.send(JSON.stringify({ type:"admin_start" }));
  setTimeout(()=>location.href="/tv.html",300);
};
</script>

</body>
</html>
